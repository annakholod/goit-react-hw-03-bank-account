(window["webpackJsonpgoit-react-hw-03-bank-account"]=window["webpackJsonpgoit-react-hw-03-bank-account"]||[]).push([[0],{15:function(t,e,a){},21:function(t,e,a){t.exports=a(40)},26:function(t,e,a){},3:function(t,e,a){t.exports={controls:"Controls_controls__3dMAf",controlsOverlay:"Controls_controlsOverlay__kjhF_",controlsInput:"Controls_controlsInput__n9FOo",controlsBtn:"Controls_controlsBtn__i2N5h"}},40:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),r=a(4),o=a.n(r),l=(a(26),a(18)),s=a(11),i=a(12),u=a(19),m=a(13),h=a(20),d=a(14),p=a.n(d),b=a(2),_=a(15),w=a.n(_),f=a(3),g=a.n(f),y=function(t){var e=t.handleChangeInput,a=t.onClick,n=t.inputValue;return c.a.createElement("section",{className:g.a.controls},c.a.createElement("div",{className:g.a.controlsOverlay},c.a.createElement("input",{className:g.a.controlsInput,type:"number",value:n,onChange:e}),c.a.createElement("button",{className:g.a.controlsBtn,type:"button",name:"deposit",onClick:a},"Deposit"),c.a.createElement("button",{className:g.a.controlsBtn,type:"button",name:"withdraw",onClick:a},"Withdraw")))},E=a(8),v=a.n(E),N=function(t){var e=t.changeBalance,a=t.changeFinance,n=a("deposit"),r=a("withdraw"),o=e();return c.a.createElement("section",{className:v.a.balance},c.a.createElement("p",{className:v.a.deposit},c.a.createElement("span",null,"\u2b06 "),n,"$"),c.a.createElement("p",{className:v.a.withdraw},c.a.createElement("span",null,"\u2b07 "),r,"$"),c.a.createElement("span",null,"Balance: ",o,"$"))},B=a(5),O=a.n(B),C=function(t){var e=t.transactions;return c.a.createElement("table",{className:O.a.history},c.a.createElement("thead",{className:O.a.tableHeader},c.a.createElement("tr",{className:O.a.tableRow},c.a.createElement("th",null,"Transaction"),c.a.createElement("th",null,"Amount"),c.a.createElement("th",null,"Date"))),c.a.createElement("tbody",null,e.map((function(t){return c.a.createElement("tr",{className:O.a.tableRow,key:t.id},c.a.createElement("td",null,t.type),c.a.createElement("td",null,t.amount,"$"),c.a.createElement("td",null,t.date))}))))},k=(a(35),function(){return Object(b.b)("\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!")}),I=function(){return Object(b.b)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!")},S=function(){return Object(b.b)("\u0421\u0443\u043c\u043c\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439!")},T=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(c)))).state={transactions:[],inputValue:""},a.handleChangeInput=function(t){var e=t.target.value;e.includes("-")?S():a.setState({inputValue:e})},a.handleSubmit=function(t){var e=a.state.inputValue,n=t.target.name;t.preventDefault(),"0"!==e?"withdraw"===n&&Number(e)>a.changeBalance()?k():a.addTransactionToState(n,e):I()},a.addTransactionToState=function(t,e){a.setState((function(a){return{inputValue:"",transactions:[].concat(Object(l.a)(a.transactions),[{id:p.a.generate(),type:t,amount:e,date:(new Date).toLocaleString("en-GB")}])}}))},a.changeFinance=function(t){return a.state.transactions.reduce((function(e,a){return a.type===t?e+Number(a.amount):e}),0)},a.changeBalance=function(){var t=0;return 0!==a.state.transactions.length&&(t=a.changeFinance("deposit")-a.changeFinance("withdraw")),t},a}return Object(h.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){try{var t=localStorage.getItem("transactions");this.setState({transactions:null===t?[]:JSON.parse(t)})}catch(e){console.log(e)}}},{key:"componentDidUpdate",value:function(t,e){var a=this.state.transactions;if(e.transactions!==a)try{localStorage.setItem("transactions",JSON.stringify(a))}catch(n){console.log(n)}}},{key:"render",value:function(){var t=this.state,e=t.transactions,a=t.inputValue;return c.a.createElement("div",{className:w.a.dashboard},c.a.createElement(y,{inputValue:a,handleChangeInput:this.handleChangeInput,onClick:this.handleSubmit}),c.a.createElement(N,{changeBalance:this.changeBalance,changeFinance:this.changeFinance}),c.a.createElement(C,{transactions:e}),c.a.createElement(b.a,null))}}]),e}(n.Component),j=function(){return c.a.createElement(T,null)};o.a.render(c.a.createElement(j,null),document.getElementById("root"))},5:function(t,e,a){t.exports={history:"TransactionHistory_history__3al4t",tableHeader:"TransactionHistory_tableHeader__1-iZF",tableRow:"TransactionHistory_tableRow__23DIl",tBodyRow:"TransactionHistory_tBodyRow__1loig TransactionHistory_tableRow__23DIl"}},8:function(t,e,a){t.exports={balance:"Balance_balance__1-Twb",deposit:"Balance_deposit__1uOea",withdraw:"Balance_withdraw__2iWzA"}}},[[21,1,2]]]);
//# sourceMappingURL=main.b18b39b2.chunk.js.map